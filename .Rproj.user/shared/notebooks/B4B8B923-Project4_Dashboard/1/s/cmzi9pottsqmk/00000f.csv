"0","# Data cleaning & Wrangling"
"0","games <- details %>%"
"0","  dplyr::select(-num) %>%"
"0","  dplyr::left_join(ratings %>% dplyr::select(c(""id"",""average"",""users_rated"")), by=""id"") %>%"
"0","  dplyr::filter(users_rated>=50 & yearpublished>=1990) %>%"
"0","  dplyr::mutate(decades = case_when("
"0","    between(yearpublished, 1990, 1999) ~ ""1990s"","
"0","    between(yearpublished, 2000, 2009) ~ ""2000s"","
"0","    between(yearpublished, 2010, 2019) ~ ""2010s"","
"0","    yearpublished > 2019 ~ ""2020s"")) %>%"
"0","  dplyr::rename_with(~stringr::str_replace_all(., ""boardgame"", """")) %>%"
"0","  dplyr::select(-c(""family"",""expansion"",""implementation"",""artist"",""publisher""))"
"0",""
"0","rm_brackets <- function(x){"
"0","  {gsub(""\\[|\\]"", """", x)} %>%"
"0","  str_replace_all(., "", '"", "";'"") %>%"
"0","  str_replace_all(., "", \"""", "";'"") %>%"
"0","  str_replace_all(., ""\"""", ""'"")"
"0","}"
"0",""
"0","games %<>% dplyr::mutate(across(category:designer, rm_brackets))"
"0",""
"0","games_designer <- games %>%"
"0","  separate_rows(designer, sep = "";\\s*"") %>%"
"0","  dplyr::group_by(decades, designer) %>%"
"0","  dplyr::summarise(count=n(), score=mean(average)) %>%"
"0","  dplyr::filter(!is.na(designer)) %>%"
"0","  dplyr::filter(designer!=""'(Uncredited)'"") %>%"
"0","  dplyr::arrange(desc(count), desc(score)) %>%"
"0","  dplyr::slice_head(n=5) %>%"
"0","  dplyr::ungroup() %>%"
"0","  dplyr::mutate(designer=gsub(""'"","""",designer)) %>%"
"0","  dplyr::group_by(designer) %>%"
"0","  dplyr::mutate(total_count=sum(count)) %>%"
"0","  dplyr::ungroup()"
